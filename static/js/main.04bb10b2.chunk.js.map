{"version":3,"sources":["utils/API.js","components/Home/Home.js","components/SuccessCheckout/SuccessCheckout.js","components/ErrorCheckout/ErrorCheckout.js","components/MonetizedApi/MonetizedApi.js","App.js","reportWebVitals.js","index.js"],"names":["server","Home","history","checkout","a","axios","post","res","window","location","href","data","url","className","onClick","push","SuccessCheckout","useState","name","setName","apiKey","setApiKey","useEffect","session_id","URLSearchParams","search","get","params","then","ErrorCheckout","MonetizedApi","formatter","Intl","NumberFormat","style","currency","result","setResult","callApi","headers","getUsage","amt_remaining","format","amount_remaining","placeholder","onChange","e","target","value","class","JSON","stringify","App","height","width","basename","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.04bb10b2.chunk.js","sourcesContent":["export const server = 'https://nyf7qy1xfj.execute-api.us-east-1.amazonaws.com/dev'\n","import React from 'react'\nimport './Home.css'\nimport axios from 'axios'\nimport { server } from '../../utils/API'\n\nconst Home = ({ history }) => {\n  const checkout = async () => {\n    const res = await axios.post(`${server}/checkout`)\n    window.location.href = res.data.url\n  }\n\n  const goToApi = () => {\n    history.push('/use-api')\n  }\n\n  return <div className='home-container'>\n    <div className='home-text-container'>\n      <h1>Monetized API</h1>\n      <p>\n        If you are interested in signing up for this API,\n        you will have to put a credit card on file through\n        Stripe's API. In return you will get an API Key that\n        you can use to start using this API.\n      </p>\n      <button onClick={checkout}>Get Started</button>\n\n      <h1>Already a Subscriber?</h1>\n      <button onClick={goToApi}>Click Here to use the API</button>\n    </div>\n  </div>\n}\n\nexport default Home\n","import React, { useEffect, useState } from 'react'\nimport './SuccessCheckout.css'\nimport axios from 'axios'\nimport { server } from '../../utils/API'\n\nconst SuccessCheckout = ({ location }) => {\n  const [name, setName] = useState('')\n  const [apiKey, setApiKey] = useState('')\n\n  useEffect(() => {\n    const session_id = new URLSearchParams(location.search).get('session_id')\n\n    axios.get(`${server}/apiKey`, { params: { session_id } }).then(res => {\n      setName(res.data.name)\n      setApiKey(res.data.apiKey)\n    })\n  }, [location.search])\n\n  return <div className='success-container'>\n    <div className='success-text-container'>\n      <h1>Successful Checkout</h1>\n      <h3>Your API Key: {apiKey}</h3>\n      <p>\n        Thank you, {name}, for purchasing this monetized API.\n        Whenever you make an API call, include this API Key in your header\n        so that your requests can be charged by usage.\n      </p>\n    </div>\n  </div>\n}\n\nexport default SuccessCheckout\n","import React from 'react'\nimport './ErrorCheckout.css'\n\nconst ErrorCheckout = () => {\n  return <div className='error-container'>\n    <div className='error-text-container'>\n      <h1>Something Went Wrong</h1>\n      <p>\n        There was a problem registering you for this monetized API.\n        Please try again later.\n      </p>\n    </div>\n  </div>\n}\n\nexport default ErrorCheckout","import React, { useState } from 'react'\nimport './MonetizedApi.css'\nimport axios from 'axios'\nimport { server } from '../../utils/API'\n\nconst MonetizedApi = () => {\n  const formatter = new Intl.NumberFormat('en-us', { style: 'currency', currency: 'USD' })\n  const [apiKey, setApiKey] = useState('')\n  const [result, setResult] = useState('')\n\n  const callApi = async () => {\n    setResult('')\n    const headers = { 'x-api-key': apiKey }\n    const res = await axios.get(`${server}/monetized`, { headers })\n    setResult(res.data)\n  }\n\n  const getUsage = async () => {\n    setResult('')\n    const res = await axios.get(`${server}/usage`, { params: { apiKey } })\n    const amt_remaining = formatter.format(res.data.amount_remaining / 100)\n    setResult(`Invoice: ${amt_remaining}`)\n  }\n\n  return <div className='api-container'>\n    <h1>Use Monetized API</h1>\n    <input placeholder='Enter Your API Key' onChange={e => setApiKey(e.target.value)} />\n\n    <div className='btn-container'>\n      <button class='api-button' onClick={callApi}>Submit API Call</button>\n      <button class='api-button' onClick={getUsage}>Get Usage Report</button>\n    </div>\n\n    {JSON.stringify(result)}\n  </div>\n}\n\nexport default MonetizedApi\n","import { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\n\nimport Home from './components/Home/Home'\nimport SuccessCheckout from './components/SuccessCheckout/SuccessCheckout'\nimport ErrorCheckout from './components/ErrorCheckout/ErrorCheckout'\nimport MonetizedApi from './components/MonetizedApi/MonetizedApi'\n\nconst App = () => {\n  return <div style={{height: '100%', width: '100%'}}>\n    <Router basename='/monetized-api'>\n      <Switch>\n        <Route exact path='/' component={Home} />\n        <Route exact path='/success' component={SuccessCheckout} />\n        <Route exact path='/error' component={ErrorCheckout} />\n        <Route exact path='/use-api' component={MonetizedApi} />\n      </Switch>\n    </Router>\n  </div>\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}